[{"body":"Herein lie the instructions for using Hermit.\nUse the navigation bar on the left to select a topic or start with the following.\nIntroduction ","link":"https://https://cashapp.github.io/hermit/docs/usage/","title":"Usage"},{"body":"This document gives a brief introduction to installing Hermit and using a newly created environment.\nInstalling Hermit Installing Hermit is straightforward:\n1curl -fsSL https://github.com/cashapp/hermit/releases/download/stable/install.sh | /bin/bash This will download and install hermit into ~/bin. You should add this to your $PATH if it isn't already.\nAlso consider installing the shell hooks to get automatic environment activation/deactivation when changing directories.  Initialising a Project Change into a project directory and run the following:\n1~$ cd ~/project 2~/project$ hermit init 3info: Creating new Hermit environment in /home/user/project 4... 5 At this point the Hermit environment should be initialised and the ./bin directory should contain something like the following:\n1README.hermit.md 2activate-hermit 3hermit 4hermit.hcl Activating an Environment Activating an environment will add its bin directory to your $PATH, as well as setting any environment variables managed by Hermit.\nTo activate a Hermit environment source the activate-hermit script:\n1~/project$ . ./bin/activate-hermit 2Hermit environment /home/user/project activated 3project🐚~/project$ Once activated the shell prompt will change to include the prefix \u0026lt;environment\u0026gt;🐚.\nAt this point you can use and manage packages in this environment.\nInstalling a package One your environment is activated, use hermit install to install packages:\n1project🐚~/project$ hermit install go-1.16.3 2project🐚~/project$ go version 3go version go1.16.3 darwin/amd64 Refer to the package management documentation for more details, including how to uninstall, information about channels, etc.\nDeactivating an Environment When an environment is activated, Hermit inserts a shell function deactivate-hermit. Call this to deactivate the current environment.\n1project🐚~/project$ deactivate-hermit 2Hermit environment /home/user/project deactivated 3~/project$ ","link":"https://https://cashapp.github.io/hermit/docs/usage/introduction/","title":"Introduction"},{"body":"When a Hermit environment is active, environment variables defined by Hermit itself, installed packages, and the active environment will be set.\nHermit includes a hermit env command to view and set environment variables:\n1Usage: hermit env [\u0026lt;name\u0026gt;] [\u0026lt;value\u0026gt;] 2 3Manage environment variables. 4 5Arguments: 6 [\u0026lt;name\u0026gt;] Name of the environment variable. 7 [\u0026lt;value\u0026gt;] Value to set the variable to. 8 9Flags: 10 -r, --raw Output raw values without shell quoting. 11 -i, --inherit Inherit variables from parent environment. 12 -n, --names Show only names. 13 -u, --unset Unset the specified environment variable. Hermit Hermit itself requires several environment variables to operate correctly. An empty environment might look something like the following:\n1project🐚~/project$ hermit env 2HERMIT_BIN=/home/user/project/bin 3HERMIT_ENV=/home/user/project 4PATH=/home/user/project/bin:/home/user/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/local/bin Package Packages may export environment variables for convenience or in order to operate correctly. For example, the go package sets the GOROOT to the location of the installed Go SDK:\n1project🐚~/project$ hermit install go 2project🐚~/project$ hermit env 3GOROOT=/home/user/.cache/hermit/pkg/go-1.16 4... Active Environment The active environment may define additional environment variables in bin/hermit.hcl. These can be managed with the hermit env command, or by directly editing the configuration file.\nFor example, to set GOBIN to a build directory within the environment:\n1project🐚~/project$ hermit env GOBIN \u0026#39;${HERMIT_ENV}/build\u0026#39; 2project🐚~/project$ hermit env 3GOBIN=/home/user/project/build 4GOROOT=/home/user/.cache/hermit/pkg/go-1.16 5... 6project🐚~/project$ echo $GOBIN 7/home/user/project/build The bin/hermit.hcl file will contain:\n1# Extra environment variables. 2env = { 3 \u0026#34;GOBIN\u0026#34;: \u0026#34;${HERMIT_ENV}/build\u0026#34;, 4}  Take care to only use single quotes (') when setting values so that the shell doesn't interpolate environment variables before Hermit. ie. Do not do this:\n1project🐚~/project$ hermit env GOBIN \u0026#34;${HERMIT_ENV}/build\u0026#34; as it will result in this bin/hermit.hcl:\n1# Extra environment variables. 2env = { 3 \u0026#34;GOBIN\u0026#34;: \u0026#34;/home/user/project/build\u0026#34;, 4} This will of course work fine for the local user, but will fail tragically for anyone else.\n ","link":"https://https://cashapp.github.io/hermit/docs/usage/envars/","title":"Environment variables"},{"body":"This document describes how packages within a Hermit environment can be found, installed, and managed. Packages are defined in configuration files called manifests which are retrieved from collections of manifests called manifest sources which in turn are commonly (but not always) Git repositories.\nKeeping up to Date Hermit retrieves package manifests from various locations, including Git repositories. It will periodically sync these repositories to your system to ensure you have the most up to date manifests, but you may also force this by running:\n1project🐚~/project$ hermit sync Searching for Packages Search for packages with the search command, optionally passing a substring to match within the package name or description:\n1project🐚~/project$ hermit search rust 2rust (@nightly, 1.51.0) 3 A language empowering everyone to build reliable and efficient software. Selecting Packages Packages can be selected in one of three ways:\n  By version - \u0026lt;package\u0026gt;-\u0026lt;version\u0026gt;\nA specific version of a package can be installed by specifying \u0026lt;package\u0026gt;-\u0026lt;version\u0026gt;. eg. hermit install rustc-1.51.0\n  By channel - \u0026lt;package\u0026gt;@\u0026lt;channel\u0026gt;\nChannels can be explicitly selected with \u0026lt;package\u0026gt;@\u0026lt;channel\u0026gt;, eg. hermit install rustc@nightly. Channels are automatically updated at a frequency defined by the package manifest.\n  By preferred version - \u0026lt;package\u0026gt;\nWhen specifying just a package name, ie. \u0026lt;package\u0026gt;, the preferred version will be installed. The preferred version is, in order of priority:\n The version specified as the default in the manifest. The latest stable version. The latest unstable version. The last channel, alphabetically.    Installing Packages To install the latest stable version of protoc and the nightly channel of rust:\n1project🐚~/project$ hermit install rust@nightly protoc At this point if you ls bin you will see something like the following:\n1project🐚~/project$ ls bin 2README.hermit.md clippy-driver@ rust-analyzer@ rustc@ 3activate-hermit* hermit* rust-demangler@ rustdoc@ 4cargo@ hermit.hcl rust-gdb@ 5cargo-clippy@ miri@ rust-gdbgui@ 6cargo-miri@ protoc@ rust-lldb@ List Installed Packages To list packages installed in the active environment:\n1project🐚~/project$ hermit list 2protoc (3.14.0) 3 protoc is a compiler for protocol buffers definitions files. 4rust (@nightly) 5 A language empowering everyone to build reliable and efficient software. Package Information You can obtain more detailed package information with hermit info \u0026lt;package\u0026gt;, eg.\n1project🐚~/project$ hermit info rust 2hermit info rust@nightly 3Name: rust 4Channel: nightly 5Description: A language empowering everyone to build reliable and efficient software. 6State: installed 7Last used: 3m36.889138s ago 8Source: https://static.rust-lang.org/dist/rust-nightly-x86_64-apple-darwin.tar.xz 9Root: /home/user/.cache/hermit/pkg/rust@nightly 10Binaries: cargo cargo-clippy clippy-driver cargo-miri miri rust-analyzer rust-demangler rust-gdb rust-gdbgui rust-lldb rustc rustdoc Upgrading Packages For package channels or versions that adhere to semantic versioning, Hermit will automatically upgrade to the latest minor version using the hermit upgrade command:\n1project🐚~/project$ hermit upgrade rust 2project🐚~/project$ rustc --version 3rustc 1.51.0 (2fd73fabe 2021-03-23) Downgrading / Changing Versions To downgrade or switch to a specific version, use hermit install to explicitly specify the version. eg.\n1project🐚~/project$ hermit install rust-1.50.0 2project🐚~/project$ rustc --version 3rustc 1.50.0 (940f2a77 2021-01-02) Uninstalling Packages Use hermit uninstall:\n1project🐚~/project$ hermit uninstall rust ","link":"https://https://cashapp.github.io/hermit/docs/usage/management/","title":"Package management"},{"body":"IDE integration is currently quite sparse, natively supporting only JetBrains IDEs. There are workarounds described below for other editors.\nJetBrains - IntelliJ, GoLand Due to the way JetBrains IDE plugin APIs are designed, specific support for each language has to be built into the plugin. Currently only the JDK and Go are supported.  Add the following URL to your IDE via the Custom Plugin Repositories dialog:\n1https://github.com/cashapp/hermit/releases/download/stable/updatePlugins.xml Then search for the \u0026quot;Hermit\u0026quot; plugin and install it. You will need to restart your IDE.\nThe plugin will automatically configure Go and Java SDKs to work with the IDE, including Run Configurations, tests, and the builtin terminal.\nTerminal-based Editors Terminal based editors should Just Work™️ if launched after a Hermit environment is activated.\nMac GUI Editors (Workaround) For other editors and IDEs, the best solution in lieu of native plugins is to open up a terminal, activate the Hermit environment, then launch the editor from the terminal. This is not ideal, but does work until a plugin is available.\n Close your editor. From a terminal activate your Hermit environment: . ./bin/activate-hermit Launch your editor from the terminal:    Editor Launch command     Sublime subl -nd .   Visual Studio Code code .      At this point your editor should be running with environment variables from the Hermit environment.\nOther Some IDEs/editors have support for configuring environment variables explicitly. In this case you can use hermit env to dump a machine-readable list of the environment variables Hermit manages. This can then be configured in your IDE.\nNote that if you add/remove packages from your Hermit environment you will need to reconfigure your IDE to pick up any changes to environment variable.  ","link":"https://https://cashapp.github.io/hermit/docs/usage/ide/","title":"Editor / IDE Integration"},{"body":"Tracking Environment Variables When a Hermit environment is activated, Hermit will install a shell hook to keep your shell's environment variables synchronised with Hermit's environment variables as you add and remove packages. This hook executes prior to each command.\nAutomatic Environment Activation / Deactivation Hermit can also install shell integration hooks to automate activation/deactivation of Hermit environments as you change directories in your terminal.\nZsh This will install Hermit hooks into your ~/.zshrc file. Restart your shell in order for the changes to take effect.\n1hermit shell-hooks --zsh Bash This will install Hermit hooks into your ~/.bashrc file. Restart your shell in order for the changes to take effect.\n1hermit shell-hooks --bash ","link":"https://https://cashapp.github.io/hermit/docs/usage/shell/","title":"Shell Integration"},{"body":"Each Hermit environment contains a bin/hermit.hcl file that can be used to customise that Hermit environment.\nAttributes    Attribute Type Description     env {string:string}? Extra environment variables.   sources [string]? Package manifest sources in order of preference.   manage-git bool? Whether Hermit should manage Git.    Per-environment Sources Hermit supports three different manifest sources:\n Git repositories; any cloneable URI ending with .git, eg.https://github.com/cashapp/hermit-packages.git Local filesystem, eg. file:///home/user/my-packages.This is mostly only useful for local development and testing. Environment relative, eg. env:///my-packages.This will search for package manifests in the directory ${HERMIT_ENV}/my-packages. Useful for local overrides.  ","link":"https://https://cashapp.github.io/hermit/docs/usage/config/","title":"Configuration"},{"body":"Generally, using Hermit in CI is similar to using it locally - activatate your environment via . ./bin/activate-hermit, add \u0026lt;repo\u0026gt;/bin to your $PATH, or use ./bin/hermit env to directly update your CI environment.\nGitHub Actions Using Hermit in GitHub Actions is straightforward. Just add the following step to each job:\n1- name:Init Hermit2run:./bin/hermit env \u0026gt;\u0026gt; $GITHUB_ENVeg.\n1jobs:2test:3name:Test4runs-on:ubuntu-latest5steps:6- name:Checkout code7uses:actions/checkout@v28- name:Init Hermit9run:./bin/hermit env \u0026gt;\u0026gt; $GITHUB_ENV10- name:Test11run:go test ./...","link":"https://https://cashapp.github.io/hermit/docs/usage/ci/","title":"Continuous Integration"},{"body":"Hermit is designed in such a way that it and its package manifests are always on the latest version. To that end, Hermit will check for and upgrade to new releases of itself once every 24 hours, and will sync to the latest package definitions every 24 hours. If you notice a pause when using Hermit, this is often the cause.\nYou can read more about the implications of this on package maintenance in the packaging introduction.\nIn addition, some packages may define channels which allow packages to be kept up to date automatically with upstream releases. Channels specify their own update frequency which Hermit will use to periodically check for updates. If the ETag for the package has changed, Hermit will download and upgrade the package.\n","link":"https://https://cashapp.github.io/hermit/docs/usage/updates/","title":"Updating"},{"body":" ","link":"https://https://cashapp.github.io/hermit/docs/usage/screencast/","title":"Screencast"},{"body":"Which Shells Does Hermit work with? Hermit currently works with ZSH and BASH, but we would welcome contributions to support other shells.\nDoes Hermit Manage Libaries? No, Hermit is deliberately not in the business of installing libraries. Hermit is designed to manage development tools only, not be a general purpose package manager. Consider Nix if you need this kind of functionality.\nCould Hermit include Python, Ruby? Theoretically yes, but there are several limiting factors:\n Python does not provide relocatable packages for OSX. Python does not provide self-contained binary packages for Linux at all, deferring this responsibility to OS package managers. Many Python and Ruby packages are wrappers around C libraries. As Hermit does not manage libraries at all, this makes distributing Python/Ruby through Hermit of limited usefulness.  Why Doesn't Hermit Have a Package for ...? There could be a number of reasons why a package isn't present in Hermit.\n The package may not be conducive to self-contained packaging (eg. Python). The community might not have needed one (yet) - please contribute one!  Does the Hermit Project Build and Host its own Packages? No, Hermit is a package installer only. Self-contained redistributable packages must be hosted elsewhere, ideally by the package owners.\nHow is Hermit different to ...? Docker Docker has a very large community and provides isolation, both of which are appealing. Unfortunately it has several shortcomings which in our view preclude it from use as a day to day development tooling system.\n Filesystem mapping on OSX is very slow. It does not support OSX binaries inside Docker (though see Docker-OSX). Poor integration with host editors/IDEs (though there is some movement).  Bazel While not really in the same space as Hermit, Bazel does provide build isolation and opt-in hermetic builds. However Bazel also:\n Requires going all-in on Bazel as a build system, whereas Hermit is explicitly not a build system but rather integrates into existing toolchains. Requires completely separate tooling, editor/IDE integration and so on.  asdf Hermit is similar to asdf, but differs in the following key ways:\n Hermit package definitions are declarative and much simpler.  Contrast Java in asdf with Java in Hermit. Hermit's primary goal is to make project tooling self-contained within the repository.  asdf's goal is to allow end users to install tools easily.  Nix Nix is the package manager for an entire OS and thus provides vastly more functionality than Hermit, including a full package build system. This naturally also comes with a corresponding increase in complexity. Hermit is deliberately designed to be narrow in scope, limited to just installing existing packages.\nGoFish GoFish's package definitions are quite similar to Hermit's, but GoFish itself:\n Does not support multiple versions of the same package. Requires root for system wide installation. Does not support the concept of \u0026quot;environments\u0026quot;.  Homebrew Homebrew is a full package build system but also:\n Is a system wide package manager. Is largely OSX specific. Does not support concurrent installation of different versions of the same package well.  ","link":"https://https://cashapp.github.io/hermit/docs/faq/","title":"FAQ"},{"body":"Hermit manifests (package definitions) are HCL configuration files defining where to download packages from and how to install them.\nUse the navigation bar on the left to select a topic or start with the following.\nTutorial ","link":"https://https://cashapp.github.io/hermit/docs/packaging/","title":"Packaging"},{"body":"For this tutorial we're going to package up jq, a supremely useful tool for filtering and transforming JSON.\nWriting package manifests for Hermit should be fairly familiar to anyone who has had experience with package managers like Homebrew, though it should be significantly more straightforward assuming the package provides cross-platform binaries for download.\nThis tutorial covers a fairly simple package definition, but more complex examples exist such as graalvm. Please refer to the hermit-packages repository for many more examples.\nClone and Activate the Manifest Repository 1git clone https://github.com/cashapp/hermit-packages 2cd hermit-packages 3. ./bin/activate-hermit The Hermit manifest repository is itself a Hermit environment configured to use itself as the source of packages. This makes testing very convenient.\nFind the Releases The releases for jq are conveniently in a single page and by downloading one of the links we can see that they're directly downloadable binaries. Convenient.\nCreate a Basic Manifest Create an empty jq.hcl file in the hermit-packages directory. The first thing you'll want is a description, for which typically just copy the project description from their site or GitHub repository:\n1description = \u0026#34;jq is like sed for JSON data - you can use it to slice and filter and map and transform structured data with the same ease that sed, awk, grep and friends let you play with text.\u0026#34; Add a Version version blocks tell Hermit what versions of a package are available for download and are specified as blocks. We'll start with an empty one for jq-1.6:\n1version \u0026#34;1.6\u0026#34; {} Add Download URLs for Each OS Looking at the links we can see that there are downloads for Linux and OSX:\n https://github.com/stedolan/jq/releases/download/jq-1.6/jq-linux64 https://github.com/stedolan/jq/releases/download/jq-1.6/jq-osx-amd64  So we'll add blocks for the respective operating systems (linux and darwin) and populate the source attribute, which tells Hermit where to download packages from:\n1version \u0026#34;1.6\u0026#34; { 2 linux { 3source = \u0026#34;https://github.com/stedolan/jq/releases/download/jq-1.6/jq-linux64\u0026#34; 4 } 5 6 darwin { 7source = \u0026#34;https://github.com/stedolan/jq/releases/download/jq-1.6/jq-osx-amd64\u0026#34; 8 } 9} DRY our URLs The raw URLs will work fine, but if we add more versions later it would be nice not to have to duplicate this configuration. To do that we can pull the OS blocks out to the top level and use Hermit's variable interpolation support to substitute the ${version} variable:\n1description = \u0026#34;jq is like sed for JSON data - you can use it to slice and filter and map and transform structured data with the same ease that sed, awk, grep and friends let you play with text.\u0026#34; 2linux { 3source = \u0026#34;https://github.com/stedolan/jq/releases/download/jq-${version}/jq-linux64\u0026#34; 4} 5 6darwin { 7source = \u0026#34;https://github.com/stedolan/jq/releases/download/jq-${version}/jq-osx-amd64\u0026#34; 8} 9 10version \u0026#34;1.6\u0026#34; {} When selecting a version/channel, Hermit will look for sources in the matching block and fallback to the top-level.\nSpecifying the Binaries At this point Hermit knows where to download our binaries from, but not what to do with them. The binaries will also have different names(jq-linux64 and jq-osx-amd64) depending on which OS we're on. We need to rename this binaries to the canonical jq. To solve this we're going to need to use a trigger to apply an action when unpacking, specifically the rename action.\n1linux { 2source = \u0026#34;https://github.com/stedolan/jq/releases/download/jq-${version}/jq-linux64\u0026#34; 3 on unpack { 4rename { from =\u0026#34;${root}/jq-linux64\u0026#34; to = \u0026#34;${root}/jq\u0026#34; } 5 } 6} 7 8darwin { 9source = \u0026#34;https://github.com/stedolan/jq/releases/download/jq-${version}/jq-osx-amd64\u0026#34; 10 on unpack { 11rename { from =\u0026#34;${root}/jq-osx-amd64\u0026#34; to = \u0026#34;${root}/jq\u0026#34; } 12 } 13} And tell Hermit which binaries to link when installed:\n1binaries = [\u0026#34;jq\u0026#34;]  The binaries attribute supports globs, which will be expanded at unpack time.  Testing the Package Hermit packages can include a testing attribute which is a command to run to test whether the package is functioning. This will typically just be something like:\n1test = \u0026#34;jq --version\u0026#34; The Hermit packages CI will run these tests periodically.\nThe End Result And we're done.\n1description = \u0026#34;jq is like sed for JSON data - you can use it to slice and filter and map and transform structured data with the same ease that sed, awk, grep and friends let you play with text.\u0026#34; 2binaries = [\u0026#34;jq\u0026#34;] 3test = \u0026#34;jq --version\u0026#34; 4 5linux { 6source = \u0026#34;https://github.com/stedolan/jq/releases/download/jq-${version}/jq-linux64\u0026#34; 7 on unpack { 8rename { from =\u0026#34;${root}/jq-linux64\u0026#34; to = \u0026#34;${root}/jq\u0026#34; } 9 } 10} 11 12darwin { 13source = \u0026#34;https://github.com/stedolan/jq/releases/download/jq-${version}/jq-osx-amd64\u0026#34; 14 on unpack { 15rename { from =\u0026#34;${root}/jq-osx-amd64\u0026#34; to = \u0026#34;${root}/jq\u0026#34; } 16 } 17} 18 19version \u0026#34;1.6\u0026#34; {} Local Testing As mentioned above, hermit-packages is also a Hermit environment. Now we have our manifest we can attempt to install it with:\n1$ hermit install jq 2$ jq --version 3jq-1.6 Distribute the Package At this point you can (and should!) contribute the package back to the community via a PR.\n","link":"https://https://cashapp.github.io/hermit/docs/packaging/tutorial/","title":"Tutorial"},{"body":"Update Policy Hermit syncs manifest sources every 24 hours from HEAD. Because any changes are then immediately reflected in active environments, care must be taken to maintain backwards compatibility.\nIn particular this means:\n Never delete or rename versions. Take care when updating environment variables.  And in general think carefully about what impact your change will have if it is applied to an active environment.\nManifests Hermit manifests (package definitions) are HCL configuration files defining where to download packages from and how to install them.\nRefer to the schema documentation for details.\nHere's an example manifest for Rust:\n1description = \u0026#34;A language empowering everyone to build reliable and efficient software.\u0026#34; 2binaries = [\u0026#34;*/bin/*\u0026#34;] 3strip = 1 4 5darwin { 6source = \u0026#34;https://static.rust-lang.org/dist/rust-${version}-x86_64-apple-darwin.tar.xz\u0026#34; 7} 8 9linux { 10source = \u0026#34;https://static.rust-lang.org/dist/rust-${version}-x86_64-unknown-linux-musl.tar.xz\u0026#34; 11} 12 13version \u0026#34;1.51.0\u0026#34; {} 14 15channel nightly { 16update = \u0026#34;24h\u0026#34; 17 darwin { 18source = \u0026#34;https://static.rust-lang.org/dist/rust-nightly-x86_64-apple-darwin.tar.xz\u0026#34; 19 } 20 21 linux { 22source = \u0026#34;https://static.rust-lang.org/dist/rust-nightly-x86_64-unknown-linux-musl.tar.xz\u0026#34; 23 } 24} Sources A manifest source is a location where a set of manifests are stored. Hermit supports manifest sources in Git repositories, local filesystems (useful for temporary overrides while testing packages), and environment-relative.\nMultiple sources can be specified globally by Hermit or per-project, allowing fine-grained control over which package definitions will be used.\nVersions Version blocks are explicitly defined versions of a particular package.\nChannels Channels define a download source that will be automatically checked for updates periodically. Hermit will check the URL's ETag and update the package if there is a newer version.\nVariable Interpolation Hermit manifests support basic variable interpolation to simplify configuration. It's not necessary to utilise them, but they can make life simpler in many cases.\nThe available variables are:\n   Variable Description     version The version selected by the user. Does not apply when installing a channel.   dest The directory where the archive will be extracted. Defaults to \u0026lt;hermit-state\u0026gt;/pkg/\u0026lt;pkg-selector\u0026gt;.   root Directory considered the package root. Defaults to ${dest}.   os The system's OS as reported by Go.   arch The system's CPU architecture as reported by Go.   xarch An alternate mapping of ${arch} where amd64=\u0026gt;x86_64, i386=\u0026gt;386, and arm64=\u0026gt;aarch64.   HERMIT_ENV Path to the active Hermit environment.   HERMIT_BIN Path to the active Hermit environment's bin directory.   HOME The user's home directory.    Triggers and Actions Hermit supports the concept of triggers and actions which can be applied when certain events occur in the package lifecycle. Supported events are:\n   Event Description     unpack Triggered when a package is unpacked into the Hermit cache.   install Triggered when a package is installed into an environment.   activate Triggered when the environment the package is installed in is activated.    More triggers may be added in the future.\n","link":"https://https://cashapp.github.io/hermit/docs/packaging/reference/","title":"Reference"},{"body":"Custom Hermit Hermit has a configurable command-line entry point which can be useful if you need to use a custom HTTP client in order to access your private packages or manifest sources. See the hermit main package for an example of how this is used.\nThis can be used to specify a custom set of sources, and other configuration, for your org.\nInstaller script A custom install.sh can be generated by cmd/geninstaller:\n1geninstaller --dest=install.sh --dist-url=https://mycompany.com/hermit-install.sh ","link":"https://https://cashapp.github.io/hermit/docs/packaging/private/","title":"Private Packages"},{"body":"Each Hermit package manifest is a nested structure containing OS/architecture-specific configuration.\nThis is reference documentation for the manifest structure. Refer to the tutorial for a guided introduction and existing manifests for examples.\n\u0026lt;manifest\u0026gt; ","link":"https://https://cashapp.github.io/hermit/docs/packaging/schema/","title":"Package Schema"},{"body":"Each Hermit package manifest is a nested structure containing OS/architecture-specific configuration.\nBlocks    Block Description     channel \u0026lt;name\u0026gt; { … } Definition of and configuration for an auto-update channel.   darwin { … } Darwin-specific configuration.   linux { … } Linux-specific configuration.   on \u0026lt;event\u0026gt; { … } Triggers to run on lifecycle events.   version \u0026lt;version\u0026gt; { … } Definition of and configuration for a specific version.    Attributes    Attribute Type Description     apps [string]? Relative paths to Mac .app packages to install.   arch string? CPU architecture to match (amd64, 386, arm, etc.).   binaries [string]? Relative glob from $root to individual terminal binaries.   default string? Default version or channel if not specified.   description string Human readable description of the package.   dest string? Override archive extraction destination for package.   env {string: string}? Environment variables to export.   files {string: string}? Files to load strings from to be used in the manifest.   mirrors [string]? Mirrors to use if the primary source is unavailable.   provides [string]? This package provides the given virtual packages.   rename {string: string}? Rename files after unpacking to ${root}.   requires [string]? Packages this one requires.   root string? Override root for package.   sha256 string? SHA256 of source package for verification.   source string? URL for source package.   strip number? Number of path prefix elements to strip.   test string? Command that will test the package is operational.    ","link":"https://https://cashapp.github.io/hermit/docs/packaging/schema/manifest/","title":"\u003cmanifest\u003e.hcl"},{"body":"Darwin-specific configuration.\nUsed by: channel linux \u0026lt;manifest\u0026gt; version\nBlocks    Block Description     darwin { … } Darwin-specific configuration.   linux { … } Linux-specific configuration.   on \u0026lt;event\u0026gt; { … } Triggers to run on lifecycle events.    Attributes    Attribute Type Description     apps [string]? Relative paths to Mac .app packages to install.   arch string? CPU architecture to match (amd64, 386, arm, etc.).   binaries [string]? Relative glob from $root to individual terminal binaries.   dest string? Override archive extraction destination for package.   env {string: string}? Environment variables to export.   files {string: string}? Files to load strings from to be used in the manifest.   mirrors [string]? Mirrors to use if the primary source is unavailable.   provides [string]? This package provides the given virtual packages.   rename {string: string}? Rename files after unpacking to ${root}.   requires [string]? Packages this one requires.   root string? Override root for package.   sha256 string? SHA256 of source package for verification.   source string? URL for source package.   strip number? Number of path prefix elements to strip.   test string? Command that will test the package is operational.    ","link":"https://https://cashapp.github.io/hermit/docs/packaging/schema/darwin/","title":"darwin"},{"body":"Linux-specific configuration.\nUsed by: channel darwin \u0026lt;manifest\u0026gt; version\nBlocks    Block Description     darwin { … } Darwin-specific configuration.   linux { … } Linux-specific configuration.   on \u0026lt;event\u0026gt; { … } Triggers to run on lifecycle events.    Attributes    Attribute Type Description     apps [string]? Relative paths to Mac .app packages to install.   arch string? CPU architecture to match (amd64, 386, arm, etc.).   binaries [string]? Relative glob from $root to individual terminal binaries.   dest string? Override archive extraction destination for package.   env {string: string}? Environment variables to export.   files {string: string}? Files to load strings from to be used in the manifest.   mirrors [string]? Mirrors to use if the primary source is unavailable.   provides [string]? This package provides the given virtual packages.   rename {string: string}? Rename files after unpacking to ${root}.   requires [string]? Packages this one requires.   root string? Override root for package.   sha256 string? SHA256 of source package for verification.   source string? URL for source package.   strip number? Number of path prefix elements to strip.   test string? Command that will test the package is operational.    ","link":"https://https://cashapp.github.io/hermit/docs/packaging/schema/linux/","title":"linux"},{"body":"Definition of and configuration for an auto-update channel.\nUsed by: \u0026lt;manifest\u0026gt;\nBlocks    Block Description     darwin { … } Darwin-specific configuration.   linux { … } Linux-specific configuration.   on \u0026lt;event\u0026gt; { … } Triggers to run on lifecycle events.    Attributes    Attribute Type Description     apps [string]? Relative paths to Mac .app packages to install.   arch string? CPU architecture to match (amd64, 386, arm, etc.).   binaries [string]? Relative glob from $root to individual terminal binaries.   dest string? Override archive extraction destination for package.   env {string: string}? Environment variables to export.   files {string: string}? Files to load strings from to be used in the manifest.   mirrors [string]? Mirrors to use if the primary source is unavailable.   provides [string]? This package provides the given virtual packages.   rename {string: string}? Rename files after unpacking to ${root}.   requires [string]? Packages this one requires.   root string? Override root for package.   sha256 string? SHA256 of source package for verification.   source string? URL for source package.   strip number? Number of path prefix elements to strip.   test string? Command that will test the package is operational.   update string Update frequency for this channel.   version string? Use the latest version matching this version glob as the source of this channel. Empty string matches all versions    ","link":"https://https://cashapp.github.io/hermit/docs/packaging/schema/channel/","title":"channel \u003cname\u003e"},{"body":"Definition of and configuration for a specific version.\nUsed by: \u0026lt;manifest\u0026gt;\nBlocks    Block Description     darwin { … } Darwin-specific configuration.   linux { … } Linux-specific configuration.   on \u0026lt;event\u0026gt; { … } Triggers to run on lifecycle events.    Attributes    Attribute Type Description     apps [string]? Relative paths to Mac .app packages to install.   arch string? CPU architecture to match (amd64, 386, arm, etc.).   binaries [string]? Relative glob from $root to individual terminal binaries.   dest string? Override archive extraction destination for package.   env {string: string}? Environment variables to export.   files {string: string}? Files to load strings from to be used in the manifest.   mirrors [string]? Mirrors to use if the primary source is unavailable.   provides [string]? This package provides the given virtual packages.   rename {string: string}? Rename files after unpacking to ${root}.   requires [string]? Packages this one requires.   root string? Override root for package.   sha256 string? SHA256 of source package for verification.   source string? URL for source package.   strip number? Number of path prefix elements to strip.   test string? Command that will test the package is operational.    ","link":"https://https://cashapp.github.io/hermit/docs/packaging/schema/version/","title":"version \u003cversion\u003e"},{"body":"Triggers to run on lifecycle events.\nUsed by: channel darwin linux \u0026lt;manifest\u0026gt; version\nBlocks    Block Description     chmod { … } Change a files mode.   copy { … } A file to copy when the event is triggered.   message { … } Display a message to the user.   rename { … } Rename a file.   run { … } A command to run when the event is triggered.    ","link":"https://https://cashapp.github.io/hermit/docs/packaging/schema/on/","title":"on \u003cevent\u003e"},{"body":"Change a files mode.\nUsed by: on\nAttributes    Attribute Type Description     file string File to set mode on.   mode number File mode to set.    ","link":"https://https://cashapp.github.io/hermit/docs/packaging/schema/chmod/","title":"on \u003e chmod"},{"body":"A file to copy when the event is triggered.\nUsed by: on\nAttributes    Attribute Type Description     from string The source file to copy from. Absolute paths reference the file system while relative paths are against the manifest source bundle.   to string The relative destination to copy to, based on the context.    ","link":"https://https://cashapp.github.io/hermit/docs/packaging/schema/copy/","title":"on \u003e copy"},{"body":"Display a message to the user.\nUsed by: on\nAttributes    Attribute Type Description     text string Message text to display to user.    ","link":"https://https://cashapp.github.io/hermit/docs/packaging/schema/message/","title":"on \u003e message"},{"body":"Rename a file.\nUsed by: on\nAttributes    Attribute Type Description     from string Source path to rename.   to string Destination path to rename to.    ","link":"https://https://cashapp.github.io/hermit/docs/packaging/schema/rename/","title":"on \u003e rename"},{"body":"A command to run when the event is triggered.\nUsed by: on\nAttributes    Attribute Type Description     args [string]? The arguments to the binary   cmd string The command to execute   dir string? The directory where the command is run in. Defaults to the root directory.   env [string]? The environment variables for the execution   stdin string? Optional string to be used as the stdin for the command    ","link":"https://https://cashapp.github.io/hermit/docs/packaging/schema/run/","title":"on \u003e run"},{"body":"Herein lies the documentation for Hermit.\nUse the navigation bar on the left to select a topic or use one of the following:\nIntroductionFAQPackaging\n","link":"https://https://cashapp.github.io/hermit/docs/","title":"Docs"},{"body":"Hermit Hermit installs self-bootstrapping tools for software projects in self-contained, isolated sets, so your team, your contributors, and your CI have the same consistent tooling.  \nGet StartedFAQPackagingPackages\n Why Do I Need it? If you've ever had to add something like the following to your project's README...\n Make sure you have at least Node 12.x.y, protoc x.y.z, GNU make version 4.x.y, and Go 1.16 or higher.\n ...then Hermit is for you...\n1$ pwd 2/home/user/project 3$ hermit init 4🐚 $ hermit install make protoc-3.7.1 go-1.16.3 node-12.18.3 5🐚 $ which make protoc go node 6/home/user/project/bin/make 7/home/user/project/bin/protoc 8/home/user/project/bin/go 9/home/user/project/bin/node 10🐚 $ go version 11go version go1.16.3 darwin/amd64 12🐚 $ node --version 13v12.18.3 14🐚 $ protoc --version 15libprotoc 3.7.1 16🐚 $ make --version 17GNU Make 4.2.1 These packages will now be available on any future machine, Linux or Mac, by simply cloning the repository and running the linked binaries. Each link will bootstrap Hermit if necessary, then auto-install the package, before executing the binary.\n Quickstart Run this command and follow the instructions:\n1curl -fsSL https://github.com/cashapp/hermit/releases/download/stable/install.sh | /bin/bash Or read the introduction for more detailed instructions.\n  Hermit Crab Vectors by Vecteezy\n    ","link":"https://https://cashapp.github.io/hermit/","title":"Hermit"}]